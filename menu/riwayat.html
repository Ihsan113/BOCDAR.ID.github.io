<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Riwayat Orderan Client</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #1e1e1e;
            color: #fff;
        }

        h1 {
            color: #ffcc00;
            text-align: center;
            margin-bottom: 20px;
        }

        .search-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .no-orders, .loading {
            color: #ffcc00;
            text-align: center;
            margin-top: 20px;
        }

        .pagination-container {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        .spinner-border {
            margin-top: 20px;
        }

        /* Status badge styles */
        .status-pending {
            background-color: #ffcc00; /* Yellow */
            color: black;
            padding: 5px 10px;
            border-radius: 5px;
        }

        .status-confirmed {
            background-color: #007bff; /* Blue */
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
        }

        .status-rejected {
            background-color: #dc3545; /* Red */
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
        }

        .status-completed {
            background-color: #28a745; /* Green */
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
        }

        .status-trouble {
            background-color: #6f42c1; /* Purple */
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
        }

        @media (max-width: 600px) {
            .search-container {
                flex-direction: column;
                align-items: center;
            }

            .form-control, .btn {
                width: 90%;
                margin: 5px 0;
            }
        }
        
        #statusDescription {
    background-color: #333; /* Latar belakang gelap untuk kontras */
    border-radius: 8px; /* Sudut membulat */
    padding: 15px; /* Ruang dalam */
    margin-top: 20px; /* Margin atas */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Bayangan halus */
}

.status-item {
    margin: 5px 0; /* Ruang antar item */
    display: flex; /* Menyusun item secara fleksibel */
    align-items: center; /* Pusatkan secara vertikal */
}

.status-item span {
    padding: 3px 8px; /* Ruang dalam pada label status */
    border-radius: 5px; /* Sudut membulat pada label */
    font-weight: bold; /* Tebalkan teks */
    text-transform: capitalize; /* Mengubah teks menjadi huruf kapital */
}

.status-pending {
    background-color: #ffc107; /* Kuning untuk status pending */
    color: #000; /* Teks hitam */
}

.status-confirmed {
    background-color: #007bff; /* Biru untuk status confirmed */
}

.status-rejected {
    background-color: #dc3545; /* Merah untuk status rejected */
    color: #fff; /* Teks putih */
}

.status-completed {
    background-color: #28a745; /* Hijau untuk status completed */
    color: #fff; /* Teks putih */
}

.status-trouble {
    background-color: #6f42c1; /* Ungu untuk status trouble */
    color: #fff; /* Teks putih */
}

    </style>
</head>
<body>
    <h1>Riwayat Orderan Client</h1>

    <div class="table-responsive">
    <table class="table table-dark table-bordered table-striped">
        <thead>
            <tr>
                <th>Produk</th>
                <th>Nama Game</th>
                <th>Harga</th>
                <th>Metode Pembayaran</th>
                <th>Tanggal Pesanan</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody id="orderTableBody">
            <tr>
                <td colspan="6" class="text-center">Masukkan nomor telepon untuk melihat riwayat orderan.</td>
            </tr>
        </tbody>
    </table>
</div>

<div id="pagination" class="pagination-container"></div>

<div id="statusDescription" class="text-light text-center mt-3">
    <p><strong>Keterangan Status:</strong></p>
    <div class="status-item">
        <span class="status-pending">Pending</span> - Menunggu konfirmasi
    </div>
    <div class="status-item">
        <span class="status-confirmed">Confirmed</span> - Dikonfirmasi
    </div>
    <div class="status-item">
        <span class="status-rejected">Rejected</span> - Ditolak
    </div>
    <div class="status-item">
        <span class="status-completed">Completed</span> - Selesai
    </div>
    <div class="status-item">
        <span class="status-trouble">Trouble</span> - Masalah dalam transaksi
    </div>
</div>



    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-firestore.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      const _0x463ff9=_0x3294;(function(_0x4b9c51,_0x2848b0){const _0xa428d7=_0x3294,_0x54592d=_0x4b9c51();while(!![]){try{const _0x3d0f89=parseInt(_0xa428d7(0x16d))/0x1+-parseInt(_0xa428d7(0x18e))/0x2+-parseInt(_0xa428d7(0x17d))/0x3*(parseInt(_0xa428d7(0x1a1))/0x4)+-parseInt(_0xa428d7(0x174))/0x5+-parseInt(_0xa428d7(0x189))/0x6+-parseInt(_0xa428d7(0x18b))/0x7*(parseInt(_0xa428d7(0x175))/0x8)+parseInt(_0xa428d7(0x163))/0x9;if(_0x3d0f89===_0x2848b0)break;else _0x54592d['push'](_0x54592d['shift']());}catch(_0x1c3bc1){_0x54592d['push'](_0x54592d['shift']());}}}(_0x3002,0xa5f49));const firebaseConfig={'apiKey':_0x463ff9(0x17f),'authDomain':_0x463ff9(0x184),'projectId':_0x463ff9(0x182),'storageBucket':_0x463ff9(0x176),'messagingSenderId':_0x463ff9(0x17e),'appId':_0x463ff9(0x171),'measurementId':_0x463ff9(0x185)};firebase[_0x463ff9(0x199)](firebaseConfig);const db=firebase['firestore']();let currentPage=0x1;const itemsPerPage=0x5;let allOrders=[];function getStatusClass(_0x36734b){const _0xf28ded=_0x463ff9;switch(_0x36734b){case _0xf28ded(0x188):return _0xf28ded(0x177);case'confirmed':return _0xf28ded(0x19a);case _0xf28ded(0x172):return _0xf28ded(0x193);case _0xf28ded(0x187):return'status-completed';case _0xf28ded(0x191):return _0xf28ded(0x181);default:return'';}}function _0x3294(_0x1fe710,_0x44d1d3){const _0x3002ee=_0x3002();return _0x3294=function(_0x329459,_0x244251){_0x329459=_0x329459-0x162;let _0x3962d9=_0x3002ee[_0x329459];return _0x3962d9;},_0x3294(_0x1fe710,_0x44d1d3);}function searchOrders(){const _0x34603e=_0x463ff9,_0x12f8f9=document[_0x34603e(0x1a2)](_0x34603e(0x17a))[_0x34603e(0x16b)][_0x34603e(0x192)](),_0x16c0a8=document[_0x34603e(0x1a2)](_0x34603e(0x190)),_0x3b4e2e=document[_0x34603e(0x1a2)](_0x34603e(0x180));if(!_0x12f8f9){alert(_0x34603e(0x16e));return;}_0x16c0a8['innerHTML']=_0x34603e(0x186),_0x3b4e2e[_0x34603e(0x16f)]='',db[_0x34603e(0x17b)](_0x34603e(0x1a0))[_0x34603e(0x170)](_0x34603e(0x17a),'==',_0x12f8f9)[_0x34603e(0x178)]()[_0x34603e(0x198)](_0x462f27=>{const _0x5cfea9=_0x34603e;_0x16c0a8['innerHTML']='',allOrders=[],_0x462f27[_0x5cfea9(0x19e)](_0x51b805=>{const _0x148ba3=_0x5cfea9;allOrders[_0x148ba3(0x165)](_0x51b805[_0x148ba3(0x18a)]());}),allOrders['length']===0x0?_0x16c0a8[_0x5cfea9(0x16f)]=_0x5cfea9(0x18f):(renderTablePage(currentPage),renderPagination());})[_0x34603e(0x164)](_0xc95b80=>{const _0x54a279=_0x34603e;console[_0x54a279(0x19f)](_0x54a279(0x173),_0xc95b80),_0x16c0a8[_0x54a279(0x16f)]=_0x54a279(0x16a);});}function renderTablePage(_0xa4e13b){const _0x3eb7fe=_0x463ff9,_0x1d001e=(_0xa4e13b-0x1)*itemsPerPage,_0x23e017=_0x1d001e+itemsPerPage,_0x71a163=allOrders['slice'](_0x1d001e,_0x23e017),_0x546267=document[_0x3eb7fe(0x1a2)](_0x3eb7fe(0x190));_0x546267['innerHTML']='',_0x71a163['forEach'](_0xd211fe=>{const _0x3f53dd=_0x3eb7fe,_0x338eed=_0x3f53dd(0x167)+_0xd211fe[_0x3f53dd(0x18d)]+_0x3f53dd(0x19b)+(_0xd211fe[_0x3f53dd(0x18c)]||'N/A')+_0x3f53dd(0x196)+_0xd211fe[_0x3f53dd(0x19d)]+_0x3f53dd(0x19b)+_0xd211fe[_0x3f53dd(0x168)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+new Date(_0xd211fe[_0x3f53dd(0x162)]['toDate']())[_0x3f53dd(0x16c)]()+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22'+getStatusClass(_0xd211fe[_0x3f53dd(0x169)])+'\x22>'+_0xd211fe[_0x3f53dd(0x169)]+'</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x546267[_0x3f53dd(0x16f)]+=_0x338eed;});}function renderPagination(){const _0x24bdd8=_0x463ff9,_0x5b98f9=Math['ceil'](allOrders['length']/ itemsPerPage),_0x2aae7a=document[_0x24bdd8(0x1a2)](_0x24bdd8(0x180));_0x2aae7a[_0x24bdd8(0x16f)]='';for(let _0x24b541=0x1;_0x24b541<=_0x5b98f9;_0x24b541++){const _0x2b9938=document[_0x24bdd8(0x19c)](_0x24bdd8(0x166));_0x2b9938[_0x24bdd8(0x179)]=_0x24bdd8(0x195)+(_0x24b541===currentPage?_0x24bdd8(0x17c):'btn-secondary')+_0x24bdd8(0x194),_0x2b9938[_0x24bdd8(0x197)]=_0x24b541,_0x2b9938[_0x24bdd8(0x183)]=()=>{currentPage=_0x24b541,renderTablePage(currentPage),renderPagination();},_0x2aae7a['appendChild'](_0x2b9938);}}window['onload']=()=>{const _0x761925=_0x463ff9;db[_0x761925(0x17b)](_0x761925(0x1a0))[_0x761925(0x178)]()['then'](_0x3e40fc=>{const _0x405d52=_0x761925;_0x3e40fc[_0x405d52(0x19e)](_0x3a2a92=>{const _0x4ad825=_0x405d52;allOrders[_0x4ad825(0x165)](_0x3a2a92['data']());}),renderTablePage(currentPage),renderPagination();})[_0x761925(0x164)](_0x1256db=>{const _0x2b5751=_0x761925;console['error'](_0x2b5751(0x173),_0x1256db);});};function _0x3002(){const _0x19ee7f=['btn\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>Rp','innerText','then','initializeApp','status-confirmed','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','createElement','productPrice','forEach','error','Orders','3519196fQmDCf','getElementById','timestamp','25988769WkCIiG','catch','push','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','paymentMethod','status','<tr><td\x20colspan=\x226\x22\x20class=\x22text-danger\x22>Terjadi\x20kesalahan\x20saat\x20mengambil\x20riwayat\x20orderan.</td></tr>','value','toLocaleString','709399THvlsw','Masukkan\x20nomor\x20telepon.','innerHTML','where','1:287761560812:web:3e416122c6f61cc9b721c9','rejected','Error\x20fetching\x20orders:\x20','3951740nlHfxn','600uUaQAt','bocdar-f32ae.firebasestorage.app','status-pending','get','className','phoneNumber','collection','btn-warning','3LTSmpF','287761560812','AIzaSyAjqRnTArhBhY8FD-Kfx10lE0hU3uZfw0o','pagination','status-trouble','bocdar-f32ae','onclick','bocdar-f32ae.firebaseapp.com','G-W17ZLT7J0F','<tr><td\x20colspan=\x226\x22\x20class=\x22text-center\x22><div\x20class=\x22spinner-border\x20text-warning\x22\x20role=\x22status\x22><span\x20class=\x22visually-hidden\x22>Loading...</span></div></td></tr>','completed','pending','2869980sQyMQy','data','12439ESPpCv','gameName','productName','1271070ebmEic','<tr><td\x20colspan=\x226\x22\x20class=\x22no-orders\x22>Tidak\x20ada\x20orderan\x20dengan\x20nomor\x20telepon\x20ini.</td></tr>','orderTableBody','trouble','trim','status-rejected','\x20me-1'];_0x3002=function(){return _0x19ee7f;};return _0x3002();}
    </script>
</body>
</html>
